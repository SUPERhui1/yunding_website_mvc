<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>通知上传</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <link rel="stylesheet" href="ueditor.css">
    <script type="text/javascript" charset="utf-8" src="ueditor.config.js"></script>
    <script type="text/javascript" charset="utf-8" src="ueditor.all.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="../yunding/js/jquery-3.3.1.js"></script>
    <script type="text/javascript" src="../H-ui.admin/management.js"></script>
    <link rel="stylesheet" href="../H-ui.admin/static/h-ui/css/H-ui.min.css">
    <!--建议手动加在语言，避免在ie下有时因为加载语言失败导致编辑器加载失败-->
    <!--这里加载的语言文件会覆盖你在配置项目里添加的语言类型，比如你在配置项目里配置的是英文，这里加载的中文，那最后就是中文-->
    <script type="text/javascript" charset="utf-8" src="lang/zh-cn/zh-cn.js"></script>
    <script type="text/javascript">
        window.onload=function () {
            let url=window.location.search;
            let id=url.substr(url.lastIndexOf("=")+1);



        };


        function ain() {
            let informContent = $("input[name='informContent']").val();
            if (informContent === "" || informContent == null || informContent == undefined) {
                alert("请输入通知！");
                return false;
                /*阻止表单提交*/
            }
            else {

                let a = new FormData();
                a.append("informContent", informContent);
                $.ajax({
                    url: "/api/inform/upload",
                    xhrFields: {
                        withCredentials: true
                    },
                    type: "POST",
                    cache: false,
                    data: a,
                    processData: false,
                    contentType: false,
                    async: false,
                    success: function (result) {
                        alert(result.message);
                    }
                    //cache 上传文件不需要缓存，所以设置false
                    //processData 因为data值是FormData对象，不需要对数据处理
                    //contentType 因为是由form表单构造的FormData对象，且已声明了属性enctype，所以为false
                })
            }
        }

    </script>

    <style type="text/css">
        div {
            width: 100%;
        }
    </style>
</head>
<body>
<div class="container">

    <div class="middlediv" style="text-align:center;">
        <p style="font-size:30px ;padding:20px;">请输入通知内容</p>

    </div>
    <div style="margin:0 auto; text-align:center;">
        <input class="textarea radius" type="text" name="informContent" value="" style="width:600px;height: 400px  " ><br>
        </div>
        <div class="bottomdiv">
            <input type = "button" id = "submit1" value = "上传" onClick = "ain()" class="btn btn-secondary radius"/ >
            <input type = "button" id = "submit3" value = "返回" onClick = "window.location='/H-ui.admin/index.html'" class="btn btn-secondary radius"/ >
            </div>
        </div>
        </body>
        </html>